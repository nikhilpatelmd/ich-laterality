---
title: "Causal Assumptions - DAG"
code-fold: true
---


```{r setup, warning=FALSE, message=FALSE}

library(tidyverse)
library(dagitty)
library(ggdag)
library(here)

```

## Specify a Causal Question

Do patients with **left hemispheric** injuries have worse otucomes as compared to patients with **right hemispheric** injuries?

## Exploratory Data Analysis

```{r eda, warning=FALSE, message=FALSE}
#| fig-width: 10

data <- read_csv(here("data", "all.csv"))

data |>
  filter(ich_location == c("Lobar", "Basal Ganglia", "Thalamus")) |>
  filter(!is.na(ich_laterality)) |>
  ggplot(aes(x = ich_laterality, y = mrs_90)) +
  geom_bar()

data |>
  filter(ich_location == c("Lobar", "Basal Ganglia", "Thalamus")) |>
  filter(!is.na(ich_laterality)) |>
  ggplot(aes(euro_vas_90, fill = ich_laterality)) +
  geom_density(color = NA, alpha = .8)

```

## Model Our Assumptions

```{r dag}
#| fig-width: 10

dag_laterality <- dagify(ich_laterality ~ functional_outcome)

dag_laterality |>
  ggdag()

```